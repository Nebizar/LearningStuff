$MOD842
ORG 0
	JMP MAIN
ORG 0BH
	JMP TIM0
ORG 01BH
	JMP TIM
	
MAIN:
	SETB EA
	SETB ET1
	SETB ET0
	MOV TMOD, #1
	SETB TR1
	SETB TR0
	MOV R1, #00000000B
	MOV R2, #00010000B
	MOV R3, #0
	MOV R6, #00100000B
	MOV R4, #00110000B
	MOV R5, #0
SHOW:
	MOV P2, R1
	CALL DELAY
	MOV P2, R2
	CALL DELAY
	MOV P2, R6
	CALL DELAY
	MOV P2, R4
	CALL DELAY
	
	JMP SHOW
	
	
TIM:
	INC R3
	CJNE R3, #255, SPA
	MOV R3, #0
	INC R1
	CJNE R1, #00001010B, SPA
	MOV R1, #0
	INC R2
	CJNE R2, #00010110B, SPA
	MOV R2, #00010000B
SPA:
	RETI

TIM0:
	INC R5
	CJNE R5, #32, ENDI
	MOV R5, #0
	INC R6
	CJNE R6, #00101010B, ENDI
	MOV R6, #00100000B
	INC R4
	CJNE R4, #00110110B, ENDI
	MOV R4, #00110000B
ENDI:	
	RETI
	
DELAY:
	MOV R0, #255
	DJNZ R0, $
	RET
	
END
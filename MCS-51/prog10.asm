$MOD842
ORG 0
JMP MAIN

ORG 53H
JMP INTER

MAIN:
	SETB EA
	MOV R0, #00010000B
	MOV R1, #00100000B
	MOV R2, #00110000B
	MOV TIMECON, #00010001B
	MOV INTVAL, #10
LOOP:
	MOV P2, SEC
	CALL DELAY
	MOV P2, R0
	CALL DELAY
	MOV P2, R1
	CALL DELAY
	MOV P2, R2
	CALL DELAY
	JMP LOOP

INTER:
	MOV SEC, #0
	INC R0
	CJNE R0, #00011010B, WYJ
	INC R1
	MOV R0, #00010000B
	CJNE R1, #00101010B, WYJ
	INC R2
	MOV R1, #00100000B
	CJNE R2, #00111010B, WYJ
	MOV R2, #00110000B
WYJ:	
	RETI

DELAY:
	MOV R0, #255
	DJNZ R0, $
	RET
	
END
